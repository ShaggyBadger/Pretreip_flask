{% extends "base.html" %} {% block content %} {% include
'admin/base/nav-menu.html' %}

<div class="container mt-4">
  <h2 class="mb-4 text-light">Store Management</h2>

  <form method="POST" class="mb-4" action="{{ url_for('admin.create_store') }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <button type="submit" name="action" value="new" class="btn btn-primary">
      Create New Store
    </button>
  </form>

  <div class="table-responsive" style="max-height: 600px; overflow-y: auto">
    <table
      class="table table-striped table-hover table-bordered bg-light text-dark align-middle"
    >
      <thead class="table-primary" style="position: sticky; top: 0; z-index: 2">
        <tr>
          <th>Store Number</th>
          <th>Riso Number</th>
          <th>Store Name</th>
          <th>Store Type</th>
          <th>City</th>
          <th>State</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% if stores %} {% for store in stores %}
        <tr>
          <td>{{ store.store_num }}</td>
          <td>{{ store.riso_num }}</td>
          <td>{{ store.store_name }}</td>
          <td>{{ store.store_type }}</td>
          <td>{{ store.city }}</td>
          <td>{{ store.state }}</td>
          <td>
            <form method="POST" action="{{ url_for('admin.edit_store') }}">
              <input
                type="hidden"
                name="csrf_token"
                value="{{ csrf_token() }}"
              />
              <input type="hidden" name="store_id" value="{{ store.id }}" />
              <button
                type="submit"
                name="action"
                value="edit"
                class="btn btn-sm btn-secondary"
              >
                Edit
              </button>
            </form>
          </td>
        </tr>
        {% endfor %} {% else %}
        <tr>
          <td colspan="7" class="text-center">No stores found.</td>
        </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}
