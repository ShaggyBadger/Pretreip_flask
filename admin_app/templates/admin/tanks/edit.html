{% extends "base.html" %} {% block content %} {% include 'nav_menu.html' %}

<div class="container mt-4">
  <h2>Edit Tank Charts for: {{ tank.name }}</h2>

  <form method="POST" action="{{ url_for('admin.edit_tankChart_success') }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
    <input type="hidden" name="tank_id" value="{{ tank.id }}" />

    <div
      class="table-responsive mt-4"
      style="max-height: 600px; overflow-y: auto"
    >
      <table
        class="table table-striped table-hover table-dark table-bordered align-middle"
      >
        <thead class="table-dark" style="position: sticky; top: 0; z-index: 2">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Inches</th>
            <th scope="col">Gallons</th>
            <th scope="col">Misc Info</th>
          </tr>
        </thead>
        <tbody>
          {% if charts %} {% for chart in charts %}
          <tr>
            <td>
              {{ chart.id }}
              <input type="hidden" name="row_id" value="{{ chart.id }}" />
            </td>
            <td>
              <input
                type="number"
                name="inches"
                value="{{ chart.inches }}"
                class="form-control"
              />
            </td>
            <td>
              <input
                type="number"
                name="gallons"
                value="{{ chart.gallons }}"
                class="form-control"
              />
            </td>
            <td>
              <input
                type="text"
                name="misc_info"
                value="{{ chart.misc_info or '' }}"
                class="form-control"
              />
            </td>
          </tr>
          {% endfor %} {% else %}
          <tr>
            <td colspan="4" class="text-center">
              No tank charts found for this tank.
            </td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-primary">Save Changes</button>
    </div>
  </form>

  <!-- Chart Section -->
  <div class="mt-5">
    <h3>Tank Chart Visual</h3>
    <canvas id="tankChart" style="max-height: 400px"></canvas>
  </div>
</div>

{% endblock %} {% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // put in a list of values from flask:
  // gal = [1, 2, 3, etc]
  // inch = [1, 2, 3, etc]
  // use that to make a graph
</script>
{% endblock %}
